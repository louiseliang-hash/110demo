<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>110 視訊報案流程 Demo</title>
    <style>
        /* 基本樣式重置 */
        * { box-sizing: border-box; }
        body { 
            margin: 0; 
            padding: 0; 
            background: #2c3e50; 
            display: flex; 
            justify-content: center; 
            align-items: center; 
            height: 100vh;
            font-family: "PingFang TC", "Microsoft JhengHei", sans-serif;
        }

        /* 關鍵：手機外框容器 */
        .phone-container {
            width: 360px;
            height: 640px;
            background: #fff;
            border: 12px solid #1a1a1a;
            border-radius: 40px;
            position: relative;
            overflow: hidden;
            box-shadow: 0 20px 50px rgba(0,0,0,0.5);
        }

        /* 頁面切換邏輯 */
        .page { display: none; width: 100%; height: 100%; flex-direction: column; }
        .page.active { display: flex; }

        /* LINE 風格細節 */
        .header { background: #4E6280; color: white; padding: 15px; text-align: center; font-weight: bold; }
        .line-chat-bg { background: #7494C0; flex-grow: 1; padding: 10px; display: flex; flex-direction: column; }
        .msg-left { background: #fff; padding: 10px; border-radius: 10px; margin-bottom: 10px; align-self: flex-start; font-size: 14px; max-width: 80%; }
        .msg-right { background: #85E249; padding: 10px; border-radius: 10px; margin-bottom: 10px; align-self: flex-end; font-size: 14px; }
        .oa-card { background: #fff; border-radius: 10px; overflow: hidden; width: 220px; box-shadow: 0 2px 5px rgba(0,0,0,0.2); }
        .oa-btn { padding: 10px; text-align: center; color: #007bff; border-top: 1px solid #eee; cursor: pointer; font-weight: bold; }

        /* 報案通話頁面 */
        .police-page { background: #1c1c1e; color: white; text-align: center; padding-top: 60px; }
        .btn-call { 
            width: 80px; height: 80px; background: #ff3b30; border-radius: 50%; 
            display: flex; justify-content: center; align-items: center; 
            margin: 40px auto; border: none; cursor: pointer;
            box-shadow: 0 0 20px rgba(255,59,48,0.5);
        }

        /* 彈窗樣式 */
        .overlay { position: absolute; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.6); display:flex; justify-content:center; align-items:center; }
        .popup { background: white; width: 280px; border-radius: 15px; overflow: hidden; text-align: center; color: #333; }
    </style>
</head>
<body>

<div class="phone-container">
    
    <div id="p1" class="page active">
        <div class="header">內政部警政署 110</div>
        <div class="line-chat-bg">
            <div class="msg-left">您好，請問需要什麼服務？</div>
        </div>
        <div style="padding:15px; display:flex; gap:10px; border-top:1px solid #ddd;">
            <div style="flex-grow:1; border:1px solid #ccc; padding:8px; border-radius:5px; color:#999; font-size:14px;">請輸入 110...</div>
            <button onclick="showPage('p2')" style="background:#00b900; color:white; border:none; padding:8px 15px; border-radius:5px; cursor:pointer;">發送</button>
        </div>
    </div>

    <div id="p2" class="page">
        <div class="header">內政部警政署 110</div>
        <div class="line-chat-bg">
            <div class="msg-right">110</div>
            <div class="oa-card">
                <div style="padding:15px; font-size:13px; color:#333;">您好，如需視訊報案請點擊下方按鈕啟動連線。</div>
                <div class="oa-btn" onclick="showPage('p3')">啟動視訊報案 LIFF</div>
            </div>
        </div>
    </div>

    <div id="p3" class="page" style="justify-content:center; align-items:center;">
        <img src="https://img.icons8.com/color/96/police-badge.png" width="80">
        <div style="margin-top:20px; font-weight:bold; color:#333;">110 視訊報案系統</div>
        <div style="color:#999; font-size:12px; margin-top:10px;">加密連線建立中...</div>
    </div>

    <div id="p4" class="page">
        <div class="overlay">
            <div class="popup">
                <div style="padding:20px;">
                    <div style="font-weight:bold; margin-bottom:10px;">想存取您的位置</div>
                    <div style="font-size:13px; color:#666;">系統將自動偵測所在地，以派遣鄰近警力前往。</div>
                </div>
                <div style="display:flex; border-top:1px solid #eee;">
                    <div style="flex:1; padding:12px; color:#007bff; border-right:1px solid #eee;">拒絕</div>
                    <div style="flex:1; padding:12px; color:#007bff; font-weight:bold; cursor:pointer;" onclick="showPage('p5')">允許</div>
                </div>
            </div>
        </div>
    </div>

    <div id="p5" class="page police-page">
        <div style="font-size:1.2rem; font-weight:bold;">台北市政府警察局</div>
        <div style="color:#00b900; margin-top:10px; font-size:13px;">● GPS 定位完成</div>
        <button class="btn-call" onclick="window.open('https://liff.line.me/2008742005-3DHkWzkg','_blank')">
            <img src="https://img.icons8.com/ios-filled/40/white/phone.png">
        </button>
        <div style="font-weight:bold;">點擊撥打視訊電話</div>
        <div style="margin-top:auto; padding:30px 20px;">
            <div style="background:#3a3a3c; padding:15px; border-radius:10px;">
                <div style="color:#ff453a; font-weight:bold; margin-bottom:5px;">切換模式</div>
                <div style="font-size:12px; color:#aeaeb2;">可視訊但無法講話模式</div>
            </div>
        </div>
    </div>

</div>

<script>
    function showPage(pageId) {
        // 隱藏所有頁面
        var pages = document.getElementsByClassName('page');
        for (var i = 0; i < pages.length; i++) {
            pages[i].style.display = 'none';
        }
        // 顯示目標頁
        document.getElementById(pageId).style.display = 'flex';
        
        // 邏輯：進入步驟 3 後 1.5 秒自動跳步驟 4
        if (pageId === 'p3') {
            setTimeout(function() { showPage('p4'); }, 1500);
        }
    }
</script>

</body>
</html>
